- `부모타입`으로 `자식타입`을 다룰 수 있는 이유는 자동으로 `형변환(Casting)` 이 발생했기 때문입니다.
- 자식타입 → 부모타입: 업캐스팅(`UpCasting`)
- 부모타입 → 자식타입: 다운캐스팅(`DownCasting`)

다운캐스팅으로 자식 클래스의 고유 메서드를 사용할 수 있습니다.
public class Main {
    public static void main(String[] args) {

        // 다형성 활용
        Animal animal = new Cat();
        animal.exist();
        animal.makeSound();        
        Cat cat = (Cat) animal; // ✅ 다운캐스팅(부모Animal -> 자식Cat)
        cat.scratch(); // ✅ 자식 클래스의 기능 활용 가능
    }
}

다운캐스팅(DownCasting)의 주의사항
**잘못된 다운캐스팅은 컴파일단계에서 감지할 수 없습니다.**
- 컴파일러는 다운캐스팅이 문법적으로 올바른지 여부만 검사해주기 때문에
- 런타임시에 실제 어떤 객체가 변수에 할당되는지 검사해 주지 않습니다.
- 컴파일 시점에는 오류 없이 통과되지만 런타임시점에 `ClassCastException` 이 발생할 가능성이 있습니다.
public class Main {
    public static void main(String[] args) {
        // 다운 캐스팅
        Animal dog = new Dog();
        // 문법적으로 잘못된건 아니라서 에러가 발생하지 않습니다.
        Cat cat1 = (Cat) dog; // ⚠️ 
        cat1.scratch(); // ❌ 해당 라인이 실행할때만 에러 여부를 확인할 수 있습니다.
    }
}

그래서 다운캐스팅을 사용할때 항상 `instanceof` 를 활용해야합니다.
- `instanceof` 는 객체가 특정 클래스나 인터페이스의 인스턴스인지 확인해 주는 역할을 합니다.
- 주로 다운캐스팅 하기 전에 타입을 검사해서 `ClassCastException` 을 예방하는데 활용됩니다.
public class Main {
    public static void main(String[] args) {

        Animal animal2 = new Dog();

        // ✅ 안전한 다운캐스팅(animal2 가 Cat 의 인스턴스 유형인지 확인합니다.)
        if (animal2 instanceof Cat) {
            Cat cat = (Cat) animal2;
            cat.scratch();
        } else {
            System.out.println("객체가 고양이가 아닙니다.");
        }
    }
}